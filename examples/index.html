<html>
  <script src="../dist/covenantsql-proxy.js" charset="utf-8"></script>
  <script>
    covenantsqlProxy
      .createConnection({
        endpoint: '192.168.2.102:8888',
        dbid:
          '16c421128eeb8bb6c35eb633a16d206edbd653ce52c52dcda0abb767d2bb9ed0',
      })
      .then(connection => {
        connection.query('select ? + ?', [2.1, 3.2]).then(data => {
          console.log(data)
        })

        const writeSQL = "INSERT INTO stackedit (name, content, created_at, updated_at) VALUES ('barrr', 'foo''bar', '', '');";

        // const name = 'barrrr';
        // const serializedContent = "fooo'bar";
        // const now = (new Date()).toISOString();
        //
        // connection.exec(writeSQL, [name, serializedContent, now, now]);
        connection.exec(writeSQL);

        // const dropTableSQL = `
        //   DROP TABLE stackedit;
        // `
        // connection
        //   .exec(dropTableSQL)
        //   .then(status => {
        //     console.log(`exec status:`, status)
        //   })
        //   .catch(e => {
        //     console.error(e)
        //   })
        //
        // // CREATE TABLE IF NOT EXISTS contacts (\
        // // contact_id INTEGER PRIMARY KEY,
        // // first_name TEXT NOT NULL,
        // // last_name TEXT NOT NULL,
        // // email text NOT NULL UNIQUE,
        // // phone text NOT NULL UNIQUE
        //
        // connection
        //   .exec(createTableSQL)
        //   .then(status => {
        //     console.log(`exec status:`, status)
        //   })
        //   .catch(e => {
        //     console.error(e)
        //   })

        connection
          .query('show create table stackedit;')
          .then(data => {
            console.log(data)
          })
      })
  </script>
  <body>
    CovenantSQL Proxy Test
  </body>
</html>
